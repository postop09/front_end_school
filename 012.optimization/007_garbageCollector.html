<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>가비지 콜렉터</title>
</head>
<body>
  <script>
    // case 1
    // var me = {age: 31}; // 참조 카운팅 1개
    // var you = me; // 참조 카운팅 2개
    // me = null; // 참조 카운팅 1개
    // you = null; // 참조 카운팅 0개


    // case 2
    var x = {
      y: {
        z: 1
      }
    };
    // x 참조 객체를 object1, y 참조 객체를 object2

    var a = x; // object1 객체의 참조 카운팅 2개(x, a)
    x = 1; // object1 객체의 참조 카운팅 1개(a)

    var b = a.y; // object2 객체의 참조 카운팅 2개(y, b)
    a = 2; // object1 객체의 참조 카운팅 0개()

    // 더 이상 사용하지 않지만, 메모리에 불필요하게 남아 있는 객체가 있을 경우를 메모리 누수(leak)가 발생했다고 한다.
  </script>
</body>
</html>